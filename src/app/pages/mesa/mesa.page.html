<ion-content [fullscreen]="true" class="pagina-mesa">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="primary" class="toolbar-center">
        <ion-button class="boton-home" (click)="volverAtras()">
          <ion-icon name="home-outline" class="icono-home"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <div class="scanner-container" *ngIf="!mesaVerificada">
    <ion-button
      expand="block"
      color="warning"
      size="large"
      (click)="escanearQR()"
      [disabled]="procesando"
    >
      <ion-icon name="qr-code-outline" slot="start"></ion-icon>
      {{ procesando ? 'Procesando...' : 'Escanear código QR para ingresar a su
      mesa' }}
      <ion-spinner slot="end" *ngIf="procesando"></ion-spinner>
    </ion-button>
  </div>

  <div class="scanner-container" *ngIf="mesaVerificada">
    <ion-button expand="block" color="warning" size="large" routerLink="/menu"
      >Realizar pedido</ion-button
    >
    <ion-button
      expand="block"
      color="warning"
      size="large"
      [routerLink]="['/chat']"
      [queryParams]="{ mesa: mesaAsignada }"
      >Consulta al mozo</ion-button
    >
  </div>

  <!-- Modal alerta -->
  @if (modalAlerta) {
  <div class="overlay">
    <div class="modal-content">
      <!-- Header personalizado -->
      <div class="modal-header">
        <ion-label class="modal-title">{{tituloAlerta}}</ion-label>
      </div>

      <!-- Mensaje Error -->
      <div class="modal-mensaje">
        <span> {{mensajeAlerta}} </span>
      </div>

      <!-- Footer con botón de agregar -->
      <div class="modal-footer">
        <ion-button
          fill="solid"
          shape="round"
          color="light"
          (click)="mostrarModalAlerta(false)"
        >
          <ion-icon name="checkmark-sharp"></ion-icon>
        </ion-button>
      </div>
    </div>
  </div>
  }
</ion-content>
