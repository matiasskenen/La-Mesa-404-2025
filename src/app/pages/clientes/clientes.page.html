<ion-header>
  <ion-toolbar>
    <ion-buttons slot="primary" class="toolbar-center">
      <ion-button class="boton-home" (click)="volverAtras()">
        <ion-icon name="home-outline" class="icono-home"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>



<ion-content [fullscreen]="true" class="pagina-cliente">
  <!-- Ícono QR + botón escanear -->
  <div class="scanner-container" *ngIf="estadoCliente === 'ninguno'">
    <ion-button
      expand="block"
      class="boton-escanear"
      (click)="escanearQR()"
      [disabled]="procesando"
    >
      <ion-icon name="qr-code-outline" slot="start"></ion-icon>
      {{ procesando ? 'Procesando...' : 'Escanear código QR para ingresar al local' }}
      <ion-spinner slot="end" *ngIf="procesando"></ion-spinner>
    </ion-button>

    <ion-button expand="block" class="boton-escanear" [disabled]="procesando" routerLink="/resultados-encuestas">
      <ion-icon name="newspaper-outline" slot="start"></ion-icon>
      Ver encuestas de otros clientes
    </ion-button>
  </div>

  <!-- Estado mostrado al cliente -->
  <div *ngIf="estadoCliente !== 'ninguno'" class="estado-cliente">
    <ion-icon name="restaurant-outline" class="icono-estado"></ion-icon>
    <ion-text>
      <h2>{{ mensajeEstado }}</h2>
    </ion-text>
  </div>

  <!-- Modal de alerta -->
  <div class="alerta-overlay" *ngIf="modalAlerta">
    <div class="alerta-flotante" [ngClass]="tipoAlerta">
      <h2>{{ tituloAlerta }}</h2>
      <p>{{ mensajeAlerta }}</p>
      <ion-button
        size="small"
        expand="block"
        class="boton-cerrar-alerta"
        (click)="mostrarModalAlerta(false)"
      >
        Aceptar
      </ion-button>
    </div>
  </div>
</ion-content>
