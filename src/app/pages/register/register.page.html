<ion-content [fullscreen]="true" class="fondo">
  <ion-text color="danger" *ngIf="mensajeError">
    <p class="ion-padding">{{ mensajeError }}</p>
  </ion-text>
  <ion-text color="success" *ngIf="mensajeOk">
    <p class="ion-padding">{{ mensajeOk }}</p>
  </ion-text>

  <form
    [formGroup]="formCliente"
    (ngSubmit)="guardarCliente()"
    class="formulario"
  >
    <ion-item>
      <ion-input formControlName="nombre" placeholder="Nombre"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input formControlName="apellido" placeholder="Apellido"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input
        type="number"
        formControlName="dni"
        placeholder="DNI"
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-input formControlName="cuil" placeholder="CUIL"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input
        type="email"
        formControlName="email"
        placeholder="Correo electr칩nico"
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-input
        type="password"
        formControlName="password"
        placeholder="Contrase침a"
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-input
        type="password"
        formControlName="confirmar"
        placeholder="Confirmar contrase침a"
      ></ion-input>
    </ion-item>

    <!-- Previsualizaci칩n de imagen -->
    <div *ngIf="imagenPreviewUrl" class="imagen-preview-container">
      <img
        [src]="imagenPreviewUrl"
        alt="Imagen seleccionada"
        class="imagen-preview"
      />
      <ion-button expand="block" color="danger" (click)="borrarImagen()">
        <ion-icon slot="start" name="trash-outline"></ion-icon>
        Eliminar imagen
      </ion-button>
    </div>

    <ion-button
      expand="block"
      color="medium"
      (click)="seleccionarFuenteImagen()"
    >
      <ion-icon slot="start" name="camera-outline"></ion-icon>
      Subir imagen
    </ion-button>

    <ion-button
      expand="block"
      type="submit"
      color="success"
      [disabled]="formCliente.invalid"
    >
      REGISTRARSE
    </ion-button>

    <ion-button fill="clear" color="medium" (click)="volver()">
      VOLVER
    </ion-button>
  </form>
</ion-content>

<style>
  .imagen-preview-container {
    text-align: center;
    margin: 1rem 0;
  }
  .imagen-preview {
    max-width: 100%;
    border-radius: 8px;
    margin-bottom: 0.5rem;
  }
</style>
